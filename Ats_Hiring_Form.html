<!DOCTYPE html>
<html>
<head>
    <title>Kasadara Hiring Form</title>
</head>
<body>
    <h1>Kasadara Hiring Form</h1>
    <form id="hiringForm" enctype="multipart/form-data">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="role">Role:</label>
        <select id="role" name="role" required>
            <option value="Select Role">Select Role</option>
            <option value=".NET">.NET</option>
            <option value="Angular">Angular</option>
            <option value="SE - Trainee">SE - Trainee</option>
            <option value="HR/PMO/Management">HR/PMO/Management</option>
            <option value="Arc GIS">Arc GIS</option>
            <option value="Marketing">Marketing</option>
            <option value="QA">QA</option>
            <option value="Finance">Finance</option>
            <option value="Java">Java</option>
            <option value="Other">Other</option>
        </select><br><br>

        <label for="experience">Experience (In Years):</label>
        <input type="number" id="experience" name="experience" required><br><br>

        <label for="resume">Resume (PDF or Word):</label>
        <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx" required><br><br>

        <label for="noticePeriod">Notice Period / Tentative Joining Date:</label>
        <input type="text" id="noticePeriod" name="noticePeriod" required><br><br>

        <label for="location">Location:</label>
        <input type="text" id="location" name="location" required><br><br>

        <label for="expectedCTC">Expected CTC:</label>
        <input type="text" id="expectedCTC" name="expectedCTC" required><br><br>

        <label for="aboutYourself">Tell us about yourself:</label>
        <textarea id="aboutYourself" name="aboutYourself" rows="4" required></textarea><br><br>

        <label for="howDidYouKnow">How did you know about us?</label>
        <textarea id="howDidYouKnow" name="howDidYouKnow" rows="4" required></textarea><br><br>

        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById("hiringForm").addEventListener("submit", function (event) {
            event.preventDefault();
            submitForm();
        });

        function submitForm() {
            var formData = new FormData(document.getElementById("hiringForm"));
            var jsonData = {};

            formData.forEach(function (value, key) {
                jsonData[key] = value;
            });

            var url = "https://prod-165.westus.logic.azure.com:443/workflows/ec672ac489dd46b3a4f8dc657b1778c1/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=DJjt8ejsDhWpDASK97AuiL2L1cmKS05zre8jg03PZgU";

            fetch(url, {
                method: "POST",
                body: JSON.stringify(jsonData),
                headers: {
                    "Content-Type": "application/json",
                },
            })
                .then(function (response) {
                    if (response.ok) {
                        alert("Form submitted successfully!");
                        document.getElementById("hiringForm").reset();
                    } else {
                        alert("Form submission failed. Please try again later.");
                    }
                })
                .catch(function (error) {
                    console.error("Error:", error);
                    alert("An error occurred. Please try again later.");
                });
        }
    </script>
</body>
</html>
